<!DOCTYPE html>
<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container my-5" style="max-width: 800px; background-color: #fffbea; border-radius: 15px; padding: 30px; box-shadow: 0 0 10px rgba(0,0,0,0.05);">

    <!-- íƒ€ì´í‹€ -->
    <div class="text-center mb-5">
        <h2 class="fw-bold">ğŸ“˜ ë‚˜ì˜ ì¼ê¸° ì‘ì„±</h2>
        <p class="text-muted">í•˜ë£¨ë¥¼ ëŒì•„ë³´ë©° ê¸°ë¡ì„ ë‚¨ê²¨ë³´ì„¸ìš”.</p>
    </div>


    <!-- ì¼ê¸° ì‘ì„± í¼ -->
    <form th:action="@{/diary/create}" method="post" th:object="${diaryForm}">

        <!-- ë‚ ì§œì™€ ë‚ ì”¨ ì„ íƒì„ ê°€ë¡œë¡œ ë°°ì¹˜ -->
        <div class="d-flex gap-3 mb-4">
            <!-- ë‚ ì§œ ì„ íƒ -->
            <div class="flex-grow-1">
                <label for="datepicker" class="form-label">ğŸ—“ï¸ ë‚ ì§œ ì„ íƒ</label>
                <input type="text" class="form-control" id="datepicker" name="selectedDate" placeholder="ë‚ ì§œë¥¼ ì„ íƒí•˜ì„¸ìš”" readonly>
                <p id="dateMessage" class="text-muted small" style="font-style: italic; margin-top: 10px;">ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
            </div>

            <!-- ë‚ ì”¨ ì„ íƒ -->
            <div class="flex-grow-1">
                <label for="weather" class="form-label">ğŸŒ¤ï¸ ì˜¤ëŠ˜ì˜ ë‚ ì”¨</label>
                <select name="weather" id="weather" class="form-select">
                    <option value="">ë‚ ì”¨ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                    <option value="ë§‘ìŒ">ë§‘ìŒ â˜€ï¸</option>
                    <option value="íë¦¼">íë¦¼ â˜ï¸</option>
                    <option value="ë¹„">ë¹„ â˜”ï¸</option>
                    <option value="ëˆˆ">ëˆˆ â„ï¸</option>
                    <option value="ë°”ëŒ">ë°”ëŒ ğŸ’¨</option>
                </select>
                <p id="weatherMessage" class="text-muted small" style="font-style: italic; margin-top: 10px;">ë‚ ì”¨ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
            </div>
        </div>

        <!-- ì œëª© -->
        <div class="mb-4">
            <label for="subject" class="form-label">âœï¸ ì œëª©</label>
            <input type="text" name="subject" id="subject" class="form-control" placeholder="ì˜¤ëŠ˜ì˜ ì œëª©ì€ ë¬´ì—‡ì¸ê°€ìš”?">
        </div>

        <!-- ë‚´ìš© -->
        <div class="mb-4">
            <label for="content" class="form-label">ğŸ“– ë‚´ìš©</label>
            <textarea rows="12" name="content" id="content" class="form-control" placeholder="í•˜ë£¨ë¥¼ ììœ ë¡­ê²Œ ê¸°ë¡í•´ë³´ì„¸ìš”."></textarea>
        </div>

        <!-- ë²„íŠ¼ -->
        <div class="d-flex justify-content-center gap-3 mt-4">
            <input type="submit" class="btn btn-primary px-4" value="ì¼ê¸° ê¸°ë¡">
            <a th:href="@{/diary/main}" class="btn btn-outline-secondary px-4">ë’¤ë¡œê°€ê¸°</a>
        </div>
    </form>


</div>
</html>

<!-- datepicker ìŠ¤í¬ë¦½íŠ¸ -->
<script>
    $(document).ready(function () {
        $('#datepicker').datepicker({
            format: "yyyy-mm-dd",
            language: "ko",
            autoclose: true,
            todayHighlight: true
        });
    });
</script>
<script>
    $(document).ready(function() {
        // ë‚ ì§œ ì„ íƒ ì‹œ ë©”ì‹œì§€ ì¶œë ¥
        $('#datepicker').on('change', function() {
            let selectedDate = $(this).val();
            if (selectedDate) {
                $('#dateMessage').text('ì„ íƒí•œ ë‚ ì§œ: ' + selectedDate);
            } else {
                $('#dateMessage').text('ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
            }
        });

        // ë‚ ì”¨ ì„ íƒ ì‹œ ë©”ì‹œì§€ ì¶œë ¥
        $('#weather').on('change', function() {
            let selectedWeather = $(this).val();
            let weatherMessage = '';

            switch (selectedWeather) {
                case 'ë§‘ìŒ':
                    weatherMessage = 'ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì€ ë§‘ê³  í™”ì°½í•œ ë‚ ì¸ê°€ìš”?! ';
                    break;
                case 'íë¦¼':
                    weatherMessage = 'ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì€ ê¾¸ë¦‰ê¾¸ë¦‰ ì´ë„¤ìš”. ';
                    break;
                case 'ë¹„':
                    weatherMessage = 'ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì€ ì¶•~ ì²˜ì§€ëŠ” ë‚ ì´êµ°ìš” ';
                    break;
                case 'ëˆˆ':
                    weatherMessage = 'ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì€ ëˆˆì´ ì˜¤ëŠ” ì„¤ë ˜ì¸ê°€ìš”?! ';
                    break;
                case 'ë°”ëŒ':
                    weatherMessage = 'ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì€ ë°”ëŒì´ ëª°ì•„ì³¤ë‚˜ìš”?';
                    break;
                default:
                    weatherMessage = 'ë‚ ì”¨ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.';
            }

            $('#weatherMessage').text(weatherMessage);
        });
    });
</script>